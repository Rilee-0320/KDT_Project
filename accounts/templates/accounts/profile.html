{% extends 'base.html' %}

{% block title %}
  {{ person.username }}님의 프로필
{% endblock title %}

{% block content %}
  <div class="container">
    <div class="profile-wrap">
      <div class="user">
        <div class="user-image">
          <img src="https://image.ohou.se/i/bucketplace-v2-development/uploads/users/profile_images/1682908711_kakao_2770419516.jpg?gif=1&w=144&h=144&c=c&webp=1" alt="">
        </div>
        <div class="user-info">
          <h1 class="user-name">{{ person.username }}</h1>
          <div class="user-follow-wrap">
            <div class="user-follow">
              <p class="user-follow-text">팔로잉</p>
              <a href="" class="user-count">{{ person.followings.all|length }}</a>
            </div>
            <div class="user-follow">
              <p class="user-follow-text">팔로워</p>
              <a href="" class="user-count">{{ person.followers.all|length }}</a>
            </div>
          </div>
          <div class="user-btn">
            {% if user == person %}
              <a href="{% url 'accounts:update' %}" class="update-btn">설정</a>
            {% endif %}
            {% if request.user != person %}
              <div class="follow-btn">
                <form action="{% url 'accounts:follow' person.pk %}" method="POST">
                  {% csrf_token %}
                  {% if request.user in person.followers.all %}
                    <input type="submit" value="언팔로우" class="btn main-btn fw-bold">
                  {% else %}
                    <input type="submit" value="팔로우" class="btn main-btn fw-bold">
                  {% endif %}
                </form>
              </div>
            {% endif %}
          </div>
        </div>
      </div>
      {% if user == person %}
        <div class="user-mark-group">
          <div class="user-mark">
            <svg width="24" height="24" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"><path fill="currentColor" d="M22.971 7.638c-.548-5.17-7.119-7.135-10.57-2.488a.5.5 0 0 1-.802 0C8.148.503 1.577 2.469 1.029 7.625.642 12.451 3.897 17.183 12 21.436c8.104-4.252 11.36-8.984 10.972-13.798zm.996-.093c.428 5.319-3.137 10.446-11.738 14.899a.5.5 0 0 1-.46 0C3.169 17.99-.395 12.864.034 7.532.656 1.67 7.904-.683 12 4.052 16.096-.683 23.344 1.67 23.967 7.545z"></path></svg>
            <p>좋아요</p>
            {% comment %} 유저가 좋아요 누른 게시글 수를 표시하고 싶은데 아래처럼 하면 될까요? {% endcomment %}
            <p class="user-count">{{ user.like_posts.all|length }}</p>
          </div>
        </div>
      {% endif %}
    </div>

    <div class="profile-content">
      <div class="profile-gap"></div>
      <div class="review-wrap">
        <div class="review-group">
          <h3 class="title">나의 리뷰 <span>{{ user.post_set.all|length }}</span></h3>
          <div class="wrap">
            {% for review in user.post_set.all %}
              <a href="{% url 'posts:post_detail' post.pk %}">
              <h4>{{ post.title }}</h4>
              <img src="{{ post.poster_path }}" alt="이미지 없음">
              </a>
            {% endfor %}
          </div>
        </div>
        <div class="review-group">
          <h3 class="title">나의 댓글 <span>{{ user.comment_set.all|length }}</span></h3>
          <div class="wrap">
            {% for comment in user.comment_set.all %}
              <a href="" class="comment">
                <div>

                </div>
              </a>
            {% endfor %}
            <div class="comment">
              <p>Etiam nec posuere libero. Curabitur in eros enim. Donec id nunc nisi. Suspendisse enim eros, hendrerit sit amet sem in, tempus malesuada lectus. Vivamus eu lorem velit. Nunc et diam ut mi ultrices commodo. Aenean vel bibendum purus, feugiat placerat risus. Mauris consectetur mattis ultrices. Duis at aliquam leo, sed dictum ipsum. Donec dolor erat, fermentum sit amet ultrices in, sollicitudin sit amet lacus. Sed ultricies ullamcorper velit sed euismod. Etiam ullamcorper, sapien commodo facilisis iaculis, turpis purus malesuada arcu, vitae laoreet quam ipsum ut felis. Nam hendrerit euismod nisl, ut molestie justo malesuada quis. Sed massa nisi, semper vitae ipsum a, pretium scelerisque leo.</p>
            </div>
          </div>
        </div>
        <div>
          <h3 class="title">좋아요</h3>
        </div>
>>>>>>> master
      </div>
    </div>
  </div>
{% endblock content %}
